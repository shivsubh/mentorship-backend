(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return b}));var n=a(0),s=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var c=s.a.createContext({}),p=function(e){var t=s.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},h=function(e){var t=p(e.components);return s.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},d=s.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),h=p(a),d=n,b=h["".concat(i,".").concat(d)]||h[d]||u[d]||o;return a?s.a.createElement(b,r(r({ref:t},c),{},{components:a})):s.a.createElement(b,r({ref:t},c))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:n,i[1]=r;for(var c=2;c<o;c++)i[c]=a[c];return s.a.createElement.apply(null,i)}return s.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},65:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return r})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return p}));var n=a(3),s=a(7),o=(a(0),a(101)),i={id:"Technical-Decisions",title:"Technical Decisions"},r={unversionedId:"Technical-Decisions",id:"Technical-Decisions",isDocsHomePage:!1,title:"Technical Decisions",description:"Table of Contents",source:"@site/docs/Technical-Decisions.md",slug:"/Technical-Decisions",permalink:"/mentorship-backend/docs/Technical-Decisions",editUrl:"https://github.com/anitab-org/mentorship-backend/tree/develop/docs/docs/Technical-Decisions.md",version:"current",sidebar:"docs",previous:{title:"Coding Standards",permalink:"/mentorship-backend/docs/Coding-Standards"},next:{title:"Code Organization",permalink:"/mentorship-backend/docs/Code-Organization"}},l=[{value:"XX/XX/XX - Topic",id:"xxxxxx---topic",children:[]},{value:"March 2020 - Why Development Backend is hosted on Heroku?",id:"march-2020---why-development-backend-is-hosted-on-heroku",children:[]},{value:"August 2018 - Why use AWS?",id:"august-2018---why-use-aws",children:[]},{value:"July 2018 - Tasks data model implementation",id:"july-2018---tasks-data-model-implementation",children:[]},{value:"May 2018 - Why use Flask framework?",id:"may-2018---why-use-flask-framework",children:[]},{value:"May 2018 - Why use Flask-RESTPlus?",id:"may-2018---why-use-flask-restplus",children:[]},{value:"May 2018 - Why use Flask-JWT-Extended instead of just Flask-JWT?",id:"may-2018---why-use-flask-jwt-extended-instead-of-just-flask-jwt",children:[]}],c={toc:l};function p(e){var t=e.components,a=Object(s.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Table of Contents")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#march-2020---why-development-backend-is-hosted-on-heroku"},"Why Development Backend is hosted on Heroku?")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#august-2018---why-use-aws"},"Why use AWS?")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#july-2018---tasks-data-model-implementation"},"Tasks data model implementation")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#may-2018---why-use-flask-framework"},"Why use Flask framework?")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#may-2018---why-use-flask-restplus"},"Why use Flask-RESTPlus?")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#may-2018---why-use-flask-jwt-extended-instead-of-just-flask-jwt"},"Why use Flask-JWT-Extended instead of just Flask-JWT?"))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Outstanding decisions to review and discuss:")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Hard delete of entities from Mentorship System, vs masking information or only removing sensitive data (",Object(o.b)("a",{parentName:"li",href:"https://anitab-org.zulipchat.com/#narrow/stream/222534-mentorship-system/topic/deleting-entities"},"#delete-entities topic on Zulip"),")"),Object(o.b)("li",{parentName:"ul"},"Mentorship Relation Tasks data model implemented other than JSON custom object (",Object(o.b)("a",{parentName:"li",href:"https://anitab-org.zulipchat.com/#narrow/stream/222534-mentorship-system/topic/Tasks.20implementation"},"#task implementation topic on Zulip"),")"),Object(o.b)("li",{parentName:"ul"},"API versioning (",Object(o.b)("a",{parentName:"li",href:"https://github.com/anitab-org/mentorship-backend/issues/481"},"Issue #481"),")")),Object(o.b)("h2",{id:"xxxxxx---topic"},"XX/XX/XX - Topic"),Object(o.b)("p",null,"N/A"),Object(o.b)("h2",{id:"march-2020---why-development-backend-is-hosted-on-heroku"},"March 2020 - Why Development Backend is hosted on Heroku?"),Object(o.b)("p",null,"We were using AWS, but the Backend stopped working (500 error) after one specific deploy, which we could not investigate due to not having appropriate access for it (AnitaB.org IT team has the credentials). So ",Object(o.b)("a",{parentName:"p",href:"https://github.com/isabelcosta"},"Isabel")," decided to deploy it on Heroku, so we could continue having a Swagger UI endpoint for the REST API that people could access it for testing purposes. So until we have proper access to AWS, we are using Heroku. "),Object(o.b)("h2",{id:"august-2018---why-use-aws"},"August 2018 - Why use AWS?"),Object(o.b)("p",null,"AWS is being used since other previous projects were using AWS as well, such as ",Object(o.b)("a",{parentName:"p",href:"https://github.com/anitab-org/portal"},"systers/portal"),". Although other projects in the community use ",Object(o.b)("a",{parentName:"p",href:"https://www.heroku.com/"},"Heroku"),"."),Object(o.b)("h2",{id:"july-2018---tasks-data-model-implementation"},"July 2018 - Tasks data model implementation"),Object(o.b)("p",null,"Due to concerns regarding a problem of scalability with saving Tasks into the relational database as an entity, we identified the potential issue."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Problem:")," Tasks of a mentorship relation are easy to grow in number. Let's imagine at a certain time in the future we have 500 relations and each of them having 50 tasks (50 per each relation). That\u2019s in total 500*50 tasks scattered through the Tasks table, and to get tasks from a specific current relation, a cursor will have to iterate over the whole table. This causes a scalability issue."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Potential solution:")," We agreed that we would search a solution for this besides saving as a string."),Object(o.b)("p",null,"After some research about this Isabel found that SQLAlchemy allows to use of JSON objects, and MySQL since version 5.7 allows this to happen:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"http://docs.sqlalchemy.org/en/latest/core/type_basics.html#sqlalchemy.types.JSON"},"http://docs.sqlalchemy.org/en/latest/core/type_basics.html#sqlalchemy.types.JSON")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://stackoverflow.com/a/15367769/6094482"},"https://stackoverflow.com/a/15367769/6094482"))),Object(o.b)("p",null,"Here's ",Object(o.b)("a",{parentName:"p",href:"https://docs.google.com/document/d/1Bm0SAPSKjxZNRkDsvklPdtbHxLXsHQpsPLz4m18nzC4/edit?usp=sharing"},"Task Scalability Google Docs")," where Isabel tried to document a discussion at the time with mentors. We decided to go with JSON format to store the tasks list, but we agreed to review this model later after GSoC."),Object(o.b)("p",null,"Some ideas were thrown since then: Using Postgres directly instead of the SQLAlchemy abstraction, using indexing, creating the Tasks model anyways?!"),Object(o.b)("p",null,"By the way, this was implemented on ",Object(o.b)("a",{parentName:"p",href:"https://github.com/anitab-org/mentorship-backend/pull/128"},"PR #128"),"."),Object(o.b)("h2",{id:"may-2018---why-use-flask-framework"},"May 2018 - Why use Flask framework?"),Object(o.b)("p",null,"The GSoC student did not have experience with backend and the mentors had experience with python. One of the mentors suggested Flask framework since it was fairly simple to pick up and quickly bootstrap a REST API application."),Object(o.b)("h2",{id:"may-2018---why-use-flask-restplus"},"May 2018 - Why use Flask-RESTPlus?"),Object(o.b)("p",null,"Flask-RESTPlus is the core of this backend. The REST API is built using this flask extension. The main advantage is that it supports Swagger Documentation. With this tool, we can develop the API while using annotations that help to generate the Swagger UI."),Object(o.b)("p",null,"You can know more about how to use Swagger in ",Object(o.b)("a",{parentName:"p",href:"Using-Backend-Swagger-UI"},"this page"),"."),Object(o.b)("h2",{id:"may-2018---why-use-flask-jwt-extended-instead-of-just-flask-jwt"},"May 2018 - Why use Flask-JWT-Extended instead of just Flask-JWT?"),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://flask-jwt-extended.readthedocs.io/en/latest/"},"Flask-JWT-Extended")," provides great support for ",Object(o.b)("a",{parentName:"p",href:"https://jwt.io/"},"JSON Web Tokens (JWT)")," based Authentication. It provides a lot of flexibility"),Object(o.b)("p",null,"You can learn more about how ",Object(o.b)("a",{parentName:"p",href:"User-Authentication"},"User Authentication")," is done in this project."),Object(o.b)("p",null,"Initially, we started using ",Object(o.b)("a",{parentName:"p",href:"https://pythonhosted.org/Flask-JWT/"},"Flask-JWT"),", but as the development progressed we started having challenges to solve that required a more flexible library. One of the issues that made us change to ",Object(o.b)("em",{parentName:"p"},"Flask-jwt-extended")," was the need for extra verifications while login in a User into the system, specifically verifying if the user had the email verified. After looking into ",Object(o.b)("em",{parentName:"p"},"flask-jwt")," source code and docs to see if this could be done easily the GSoC student concluded that it would require extra work by having to override some functions, as done before, and that this would overcomplicate code. Ultimately, it was agreed with the mentors to use ",Object(o.b)("em",{parentName:"p"},"flask-jwt-extended")," that provided more flexibility to implement the Login API. The official documentation of ",Object(o.b)("em",{parentName:"p"},"flask-jwt-extended")," shows an ",Object(o.b)("a",{parentName:"p",href:"http://flask-jwt-extended.readthedocs.io/en/latest/basic_usage.html"},"example of the basic usage")," of the extension, where it shows the flexibility to verify extra fields and properties and provide custom error messages."))}p.isMDXComponent=!0}}]);